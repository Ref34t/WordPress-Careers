function reset_messages(){document.querySelectorAll(".field-msg").forEach(e=>e.classList.remove("show"))}function validateEmail(e){return/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(String(e).toLowerCase())}document.addEventListener("DOMContentLoaded",function(){const t=document.getElementById("myModal");var e=document.getElementById("openModalBtn"),r=t.querySelector(".close");const s=()=>{t.style.display="none"};e.addEventListener("click",()=>{t.style.display="block"}),window.addEventListener("click",e=>{e.target===t&&s()}),r.addEventListener("click",s);let a=document.getElementById("job-application-form");a.addEventListener("submit",e=>{e.preventDefault(),reset_messages();var t,e={name:a.querySelector('[name="name"]').value,email:a.querySelector('[name="email"]').value,country:a.querySelector('[name="country"]').value,coverletter:a.querySelector('[name="coverletter"]').value,resume:a.querySelector('[name="custom_file"]').value};e.name?validateEmail(e.email)?e.country?e.coverletter?e.resume?(e=a.dataset.url,t=new URLSearchParams(new FormData(a)),a.querySelector(".js-form-submission").classList.add("show"),fetch(e,{method:"POST",body:t}).then(e=>e.json()).catch(e=>{reset_messages(),a.querySelector(".js-form-error").classList.add("show")}).then(e=>{reset_messages(),0===e||"error"===e.status?a.querySelector(".js-form-error").classList.add("show"):(a.querySelector(".js-form-success").classList.add("show"),a.reset())})):a.querySelector('[data-error="invalidResume"]').classList.add("show"):a.querySelector('[data-error="invalidCoverletter"]').classList.add("show"):a.querySelector('[data-error="invalidCountry"]').classList.add("show"):a.querySelector('[data-error="invalidEmail"]').classList.add("show"):a.querySelector('[data-error="invalidName"]').classList.add("show")})});